##														CODING LOG

#### 代码框架 ：二代英雄CC板

#### 维护者：swooooo

##### VERSION 1.2 2024/1/29 01：32

##### ①修复云台归中bug，原因为pid 太小了，并添加了“归中pid”、“正常模式pid”、“自瞄模式pid”
②云台代码添加了pid_clear操作，令不同模式的pid积分不受影响

##### VERSION 1.3 2024/1/29 20:19

##### ①删减了云台冗余代码，如：裁判系统任务、底盘任务、部分未用USART底层、部分未用变量（shoot）、部分未使用的pid模块、部分.h文件无关变量
②优化了云台代码，如："gimbal_track_dodge"变量名称更改为 "gimbal_follow_chassis", 并添加了相关枚举变量(底盘代码同步进行)；将”trig“结构体更名为”trige_ref“

##### VERSION 1.4 2024/1/29 22:15

##### ①删除了云台代码中的裁判系统部分
②于modeswitch.h添加了电流变量的枚举定义，便于阅读
③优化了底盘发射射速选择，现为唯一MAD_SHOOT
④使用强制枚举转换解决了bsp_can.c中的警告( enermy color / gimbal_state )

##### VERSION 1.4.1 2024/1/30 00:54

##### ①优化了底盘代码，删除了部分无用变量，添加了部分注释

##### VERSION 1.5 2024/1/30 17:52

##### ①优化了底盘云台发射机构联动部分代码，优化了变量名称，如：RC_SINGLE_SHOOT_AFTER, 删除了无用变量
②删除了底盘拨盘部分无用变量，修改拨盘名称为 loader_t loader[2] ,增强可读性。由于未知将来拨盘是否需要使用双电机，故先保留[2]

##### VERSION 1.5.1 2024/3/06/ 13：36

##### ①减少编译警告
②修改了裁判系统接收结构体（待测）

##### VERSION 1.5.2 2024/3/06/ 15：38

##### ①修改了裁判系统发送结构体（待测）

##### VERSION 1.6 2024/3/18/ 10:30

##### ①注册了新的拨盘电机，CAN1-ID8-0x200
②调节了pitch轴电机pid控制器参数
③调节了yaw轴电机pid控制器参数

##### VERSION 1.6.1 2024/3/20 15:38

##### ①FIX：pitch/yaw轴电机

##### VERSION 1.6.2 2024/3/23 15:37

##### ①improve: 优化了PID控制器的积分部分
②Add : 添加了PID电机堵转检测

##### VERSION 1.7 （After RMUL） 2024/4/15 16:32

##### ①添加FFC速度前馈控制器
②添加IMU校准

#### VERSION 2.0 RMUC

①更改为四摩擦轮发射机构

②修正了发射机构摩擦轮的PID

③为键鼠添加TD跟踪微分器

#### VERSION 2025 1.0

①添加IWDOG看门狗复位
#### VERSION 2025 1.1  2024/12/8
①修复了自旋bug
②修改了自瞄代码配合算法rv通信
#### VERSION 2025 1.1  2024/12/21
加了roll
修改了云台nomal模式下逻辑的问题 使其不会回转
修改了点自瞄逻辑

#### VERSION 2025 1.11  2025/2/26-2025
①优化了底盘云台gimbal_task任务的代码
②修改了分离模式的逻辑
③修改了一个断电整个底盘全死的史
④底盘加了 正常模式下脉轮结算一直跟着云台走直线的逻辑
⑤裁判系统串口bug修改完成 ui还得重画
(未完成)2025.2.26


#### VERSION 2025 1.13  2025.3.6
gimbal：调了一下pid参数，修复手动控制回摆问题
chassis：修改了底盘跟随云台逻辑，现在静止下底盘会锁住当前角度，降低了底盘跟随pid，减缓超调
#### VERSION 2025 1.13  2025.3.7
power：改了缓冲焦耳基准30J->55J
pc：将自瞄的锁定模式、敌方颜色发送给算法
keyboard：修复ctrl关闭功能不灵敏问题，增加G按键用于切换自瞄模式（ 跟随or中心）
加了pit达妙电机与6020的区分